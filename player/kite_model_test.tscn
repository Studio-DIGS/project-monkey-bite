[gd_scene load_steps=6 format=3 uid="uid://bcv8rw7q3owa"]

[ext_resource type="PackedScene" uid="uid://3ouiy68pry5n" path="res://assets/kite-blender/pmb_kite.gltf" id="1_7rbey"]
[ext_resource type="Script" path="res://player/body.gd" id="2_6bkb1"]
[ext_resource type="ArrayMesh" uid="uid://cwxjglc5p8fcj" path="res://assets/kite-blender/sword.obj" id="2_lsamu"]
[ext_resource type="Script" path="res://player/sword_pivot.gd" id="3_q4bd8"]
[ext_resource type="PackedScene" uid="uid://bwj0n3jmsxunn" path="res://player/swords/example/example_sword.tscn" id="5_f34lk"]

[node name="pmb_kite" node_paths=PackedStringArray("smear_origin") instance=ExtResource("1_7rbey")]
script = ExtResource("2_6bkb1")
smear_origin = NodePath("base_human_rig/Skeleton3D/BoneAttachment3D/SwordPivot")

[node name="Skeleton3D" parent="base_human_rig" index="0"]
bones/0/rotation = Quaternion(-0.69554, -0.127372, -0.127372, 0.69554)
bones/1/position = Vector3(0.268984, -0.7732, 1.13906)
bones/1/rotation = Quaternion(0.796661, -0.0325216, -0.0414655, 0.602125)
bones/5/position = Vector3(0.182877, -0.426978, 0.549941)
bones/5/rotation = Quaternion(0.855567, -0.115411, -0.116882, 0.490943)
bones/6/rotation = Quaternion(-0.0544126, -0.000162883, -0.00252113, 0.998515)
bones/6/scale = Vector3(1.04576, 0.914404, 1.04576)
bones/7/rotation = Quaternion(0.0319705, 0.129832, -0.155121, 0.978805)
bones/7/scale = Vector3(1.00108, 1.01292, 0.98932)
bones/8/rotation = Quaternion(-0.052246, 0.146087, -0.0224228, 0.987637)
bones/8/scale = Vector3(0.968282, 1.06615, 0.968916)
bones/9/rotation = Quaternion(0.243868, -0.131759, 0.100435, 0.955552)
bones/10/rotation = Quaternion(-0.0947082, 0.055598, -0.00529796, 0.993937)
bones/11/rotation = Quaternion(-0.227793, -0.0678226, 0.0746654, 0.968471)
bones/12/position = Vector3(0.380585, -0.345813, 1.02335)
bones/12/rotation = Quaternion(0.235444, 0.897547, 0.174334, 0.329519)
bones/12/scale = Vector3(1, 14.6931, 1)
bones/13/position = Vector3(0.0212839, -0.927345, 0.93945)
bones/13/rotation = Quaternion(-0.285538, 0.895831, 0.186478, -0.284921)
bones/13/scale = Vector3(1, 29.1166, 1)
bones/14/position = Vector3(0.270315, -0.885326, 0.363714)
bones/14/rotation = Quaternion(0.874975, -0.138939, 0.0925748, -0.454472)
bones/14/scale = Vector3(1, 14.4488, 1)
bones/15/position = Vector3(-0.167986, -0.355486, 0.222989)
bones/15/rotation = Quaternion(0.923874, -0.202176, 0.287306, -0.151776)
bones/15/scale = Vector3(1, 18.4185, 1)
bones/16/position = Vector3(0.00228228, 0.986241, -0.00602243)
bones/16/rotation = Quaternion(-0.69554, -0.127372, -0.127372, 0.69554)
bones/17/position = Vector3(0.177147, -0.467452, -0.376238)
bones/17/rotation = Quaternion(0.135983, 0.0216985, -0.16282, 0.976999)
bones/19/rotation = Quaternion(0.253566, 0.0660043, -0.00535187, 0.965049)
bones/30/rotation = Quaternion(0.694174, 0.201591, -0.0172836, 0.690786)
bones/30/scale = Vector3(0.962899, 0.962899, 0.962899)
bones/31/rotation = Quaternion(0.792838, -4.887e-08, -3.63305e-08, 0.609432)
bones/31/scale = Vector3(0.995312, 0.995312, 0.995312)
bones/32/rotation = Quaternion(-0.71465, -0.31397, 0.0972335, 0.61745)
bones/32/scale = Vector3(1.04342, 1.04342, 1.04342)
bones/33/position = Vector3(-3.06e-05, 0.129784, -8.0625e-05)
bones/33/rotation = Quaternion(-0.0709311, 0.970229, -0.230953, -0.0168765)
bones/37/scale = Vector3(1.04342, 1.04342, 1.04342)
bones/39/rotation = Quaternion(1.26019e-08, -0.190557, -1.43032e-09, 0.981676)
bones/39/scale = Vector3(1.04342, 1.04342, 1.04342)
bones/41/scale = Vector3(1.03853, 1.03853, 1.03853)
bones/42/rotation = Quaternion(-9.37794e-08, -0.049454, 5.43232e-08, 0.998776)
bones/42/scale = Vector3(1.03853, 1.03853, 1.03853)
bones/44/rotation = Quaternion(0.9354, -0.250277, 0.0508849, 0.244539)
bones/44/scale = Vector3(0.970464, 0.970464, 0.970464)
bones/45/rotation = Quaternion(0.535829, 1.63487e-08, -1.81849e-08, 0.844326)
bones/45/scale = Vector3(0.997262, 0.997263, 0.997263)
bones/46/rotation = Quaternion(-0.836657, 0.0574117, -0.299046, 0.45528)
bones/46/scale = Vector3(1.03326, 1.03326, 1.03326)
bones/47/position = Vector3(8.5113e-06, 0.129842, -1.30473e-05)
bones/51/scale = Vector3(1.03326, 1.03326, 1.03326)
bones/53/rotation = Quaternion(7.72997e-08, 0.0394198, -1.07454e-08, 0.999223)
bones/53/scale = Vector3(1.03326, 1.03326, 1.03326)
bones/55/scale = Vector3(1.03044, 1.03044, 1.03044)
bones/56/rotation = Quaternion(-1.03922e-09, 0.0381002, -1.75872e-09, 0.999274)
bones/56/scale = Vector3(1.03044, 1.03044, 1.03044)
bones/66/rotation = Quaternion(-0.828568, -0.190553, -0.0715982, 0.521572)
bones/67/rotation = Quaternion(-0.421032, 0.00612475, 0.00284313, 0.907021)
bones/67/scale = Vector3(0.962898, 0.962898, 0.962898)
bones/68/rotation = Quaternion(0.792838, -4.34993e-08, -4.93998e-08, 0.609432)
bones/68/scale = Vector3(0.995312, 0.995312, 0.995312)
bones/69/rotation = Quaternion(0.6906, 0.146011, -0.0724389, 0.704631)
bones/71/rotation = Quaternion(0.6906, 0.146011, -0.0724388, 0.704631)
bones/71/scale = Vector3(1.01908, 0.962899, 1.01908)
bones/72/rotation = Quaternion(2.8964e-08, 0.0301388, 2.48751e-08, 0.999546)
bones/73/rotation = Quaternion(0.792023, 0.0299745, -0.0387731, 0.608521)
bones/73/scale = Vector3(1.00235, 0.944167, 1.05707)
bones/74/rotation = Quaternion(2.52024e-08, -0.122531, 6.82122e-08, 0.992465)
bones/75/rotation = Quaternion(-0.699749, -0.234425, 0.185468, 0.648843)
bones/75/scale = Vector3(1.0005, 0.978661, 1.02313)
bones/76/rotation = Quaternion(0.0708216, -0.970309, 0.230649, 0.0168816)
bones/76/scale = Vector3(0.999793, 1.00029, 0.999915)
bones/85/rotation = Quaternion(-0.580566, 0.236378, 0.10468, 0.772082)
bones/86/rotation = Quaternion(-0.268439, -0.00650463, -0.00181271, 0.963273)
bones/86/scale = Vector3(0.970464, 0.970463, 0.970464)
bones/87/rotation = Quaternion(0.535829, 1.40698e-08, -2.72277e-08, 0.844326)
bones/87/scale = Vector3(0.997262, 0.997262, 0.997263)
bones/88/rotation = Quaternion(0.929517, -0.232486, 0.116449, 0.261511)
bones/90/rotation = Quaternion(0.929517, -0.232486, 0.116449, 0.261511)
bones/90/scale = Vector3(1.0151, 0.970464, 1.0151)
bones/91/rotation = Quaternion(5.2295e-08, -0.0321688, 3.6076e-09, 0.999482)
bones/92/rotation = Quaternion(0.535307, -0.031823, 0.0202777, 0.843814)
bones/92/scale = Vector3(1.00137, 0.961506, 1.03923)
bones/93/rotation = Quaternion(4.60605e-08, -0.0294559, -3.20914e-08, 0.999566)
bones/94/rotation = Quaternion(-0.847136, 0.0703021, -0.273584, 0.450078)
bones/94/scale = Vector3(0.990625, 1.00065, 1.01026)
bones/95/rotation = Quaternion(0.0708999, 0.970243, -0.230903, 0.0168803)
bones/95/scale = Vector3(1, 0.999992, 1)
bones/99/rotation = Quaternion(0.127906, 0.0332943, -0.00269956, 0.991224)
bones/100/position = Vector3(0.00259035, -0.00735654, -0.0204172)
bones/100/rotation = Quaternion(0.658557, 0.27711, 0.0997701, 0.692501)
bones/101/position = Vector3(-0.00179623, 0.00999651, -0.00403293)
bones/101/rotation = Quaternion(0.014379, -0.137091, 0.070481, 0.987943)
bones/102/rotation = Quaternion(-0.0774642, -1.22854e-07, -1.266e-08, 0.996995)
bones/104/rotation = Quaternion(-0.597792, 0.0220359, -0.0251042, 0.800955)
bones/105/rotation = Quaternion(0.569652, 0.00144066, -0.000988734, 0.821884)
bones/106/rotation = Quaternion(0.243869, -0.131759, 0.100435, 0.955552)
bones/107/rotation = Quaternion(-0.0947082, 0.055598, -0.00529796, 0.993937)
bones/108/rotation = Quaternion(-0.227793, -0.0678225, 0.0746654, 0.968471)
bones/174/scale = Vector3(0.999995, 1.00001, 0.999995)
bones/178/scale = Vector3(1, 0.999997, 1)
bones/235/scale = Vector3(1.00001, 0.999988, 1.00001)
bones/237/rotation = Quaternion(-0.337441, -0.620587, 0.541647, 0.455658)
bones/237/scale = Vector3(1, 0.999998, 1)
bones/343/rotation = Quaternion(-0.516712, -0.375938, -0.336256, 0.691817)
bones/349/rotation = Quaternion(-0.480983, -0.352562, -0.388728, 0.702314)
bones/370/rotation = Quaternion(-0.759769, 0.255442, 0.273449, 0.53172)
bones/373/rotation = Quaternion(-0.549588, 0.427942, 0.427944, 0.575919)
bones/401/rotation = Quaternion(-0.653506, -0.157109, -0.0525783, 0.738568)
bones/403/rotation = Quaternion(-0.85589, -0.165672, 0.000598034, 0.489904)
bones/404/rotation = Quaternion(0.702653, 0.0792349, 0.0792349, 0.702653)
bones/407/rotation = Quaternion(-5.22537e-07, 0.0561159, -1.42456e-08, 0.998424)
bones/412/rotation = Quaternion(-0.393797, 0.817976, -0.274469, 0.317026)
bones/412/scale = Vector3(0.973844, 0.973844, 0.973845)
bones/413/rotation = Quaternion(0.648088, -5.04542e-07, -4.04811e-07, 0.761565)
bones/413/scale = Vector3(1.00039, 1.00038, 1.00039)
bones/414/rotation = Quaternion(0.259207, -0.493418, -0.182724, 0.809915)
bones/414/scale = Vector3(1.02646, 1.02646, 1.02646)
bones/436/scale = Vector3(1.02646, 1.02646, 1.02646)
bones/438/rotation = Quaternion(2.69858e-09, -0.26302, 1.5288e-09, 0.96479)
bones/438/scale = Vector3(1.02646, 1.02646, 1.02646)
bones/440/scale = Vector3(1.02686, 1.02686, 1.02686)
bones/441/rotation = Quaternion(-5.43528e-08, -0.0835926, -4.25864e-08, 0.9965)
bones/441/scale = Vector3(1.02686, 1.02686, 1.02686)
bones/450/rotation = Quaternion(0.1133, 0.701141, -0.696424, 0.102751)
bones/451/rotation = Quaternion(-0.36229, -0.00440124, -0.0017107, 0.932053)
bones/451/scale = Vector3(0.973845, 0.973845, 0.973845)
bones/452/rotation = Quaternion(0.648088, -5.06622e-07, -4.12249e-07, 0.761565)
bones/452/scale = Vector3(1.00039, 1.00038, 1.00039)
bones/453/rotation = Quaternion(-0.429836, 0.762548, -0.213659, 0.433718)
bones/455/rotation = Quaternion(-0.429836, 0.762548, -0.213659, 0.433718)
bones/455/scale = Vector3(1.01334, 0.973844, 1.01334)
bones/456/rotation = Quaternion(4.62389e-07, 0.0636609, -1.06747e-07, 0.997972)
bones/457/rotation = Quaternion(0.64577, 0.0633609, -0.0541767, 0.758967)
bones/457/scale = Vector3(0.999808, 0.962412, 1.03934)
bones/458/rotation = Quaternion(3.10283e-08, -0.264191, 2.85198e-08, 0.964471)
bones/459/rotation = Quaternion(0.200847, -0.259733, -0.246358, 0.91187)
bones/459/scale = Vector3(0.999197, 1.01237, 0.989331)
bones/461/rotation = Quaternion(0.403705, -0.274899, 0.629539, 0.604263)
bones/461/scale = Vector3(0.98406, 0.98406, 0.98406)
bones/462/rotation = Quaternion(0.475808, 3.23795e-07, 5.15381e-07, 0.879549)
bones/462/scale = Vector3(1.00073, 1.00073, 1.00073)
bones/463/rotation = Quaternion(0.470646, 0.0428123, -0.106214, 0.874859)
bones/463/scale = Vector3(1.01545, 1.01545, 1.01545)
bones/485/scale = Vector3(1.01545, 1.01545, 1.01545)
bones/487/rotation = Quaternion(5.74321e-08, 0.0228286, -2.37826e-08, 0.999739)
bones/487/scale = Vector3(1.01545, 1.01545, 1.01545)
bones/489/scale = Vector3(1.0162, 1.0162, 1.0162)
bones/490/rotation = Quaternion(1.97723e-07, -0.0394629, 1.11248e-07, 0.999221)
bones/490/scale = Vector3(1.0162, 1.0162, 1.0162)
bones/499/rotation = Quaternion(0.528696, 0.180002, 0.825551, 0.0809035)
bones/500/rotation = Quaternion(-0.256649, 0.00456393, 0.00121179, 0.966493)
bones/500/scale = Vector3(0.98406, 0.98406, 0.98406)
bones/501/rotation = Quaternion(0.475808, 3.04632e-07, 5.1716e-07, 0.879549)
bones/501/scale = Vector3(1.00073, 1.00073, 1.00073)
bones/502/rotation = Quaternion(0.449257, -0.318932, 0.597884, 0.582225)
bones/504/rotation = Quaternion(0.449257, -0.318932, 0.597884, 0.582225)
bones/504/scale = Vector3(1.00807, 0.98406, 1.00807)
bones/505/rotation = Quaternion(-1.72489e-08, 0.0347096, 5.85779e-09, 0.999397)
bones/505/scale = Vector3(0.999999, 1, 0.999999)
bones/506/rotation = Quaternion(0.475409, 0.0344992, -0.0186857, 0.87889)
bones/506/scale = Vector3(0.999634, 0.984098, 1.01678)
bones/507/rotation = Quaternion(2.36797e-08, 0.0240414, -2.09746e-07, 0.999711)
bones/508/rotation = Quaternion(0.473195, 0.0215252, -0.0960909, 0.875437)
bones/508/scale = Vector3(0.992857, 0.999011, 1.00843)
bones/518/position = Vector3(0.542968, 1.15264, 0.245064)
bones/518/rotation = Quaternion(-0.69554, -0.127372, -0.127372, 0.69554)
bones/519/position = Vector3(-0.205425, -0.260047, -0.400277)
bones/519/rotation = Quaternion(0.462564, -0.422016, 0.714586, -0.311936)
bones/521/position = Vector3(0.474906, 1.21787, 0.181681)
bones/521/rotation = Quaternion(-0.351403, 0.0175913, -0.0727928, 0.933224)
bones/523/position = Vector3(-0.569014, 1.15264, -0.176336)
bones/523/rotation = Quaternion(-0.69554, -0.127372, -0.127372, 0.69554)
bones/524/position = Vector3(0.808284, -1.07757, -0.287877)
bones/524/rotation = Quaternion(0.224334, 0.473956, 0.680071, -0.512391)
bones/527/position = Vector3(-0.396899, 1.34856, 0.165524)
bones/527/rotation = Quaternion(-0.351403, 0.0175914, -0.0727928, 0.933224)
bones/528/position = Vector3(-0.205197, 1.23689, -0.702559)
bones/528/rotation = Quaternion(-0.69554, -0.127372, -0.127372, 0.69554)
bones/529/position = Vector3(0.155262, 0.0844913, 0.0282141)
bones/529/rotation = Quaternion(-0.69554, -0.127372, -0.127372, 0.69554)
bones/530/position = Vector3(0.247437, -0.652932, 7.45058e-09)
bones/531/position = Vector3(-0.0933373, -0.22515, 0.0825741)
bones/532/rotation = Quaternion(0.22027, -7.64844e-09, -1.36789e-08, 0.975439)
bones/541/position = Vector3(-0.270151, -0.137057, 1.20202)
bones/541/rotation = Quaternion(-0.561458, -0.239918, -0.235462, 0.756149)
bones/542/position = Vector3(-0.0325747, 0.474486, 0.927087)
bones/542/rotation = Quaternion(-0.69554, -0.127372, -0.127372, 0.69554)
bones/543/position = Vector3(-0.134966, 0.0844913, -0.0817715)
bones/543/rotation = Quaternion(-0.69554, -0.127372, -0.127372, 0.69554)
bones/545/position = Vector3(0.0801378, 0.175261, 7.45058e-09)
bones/546/rotation = Quaternion(0.069986, -0.0245382, -2.33474e-10, 0.997246)
bones/555/position = Vector3(-0.731561, -0.085383, 0.828106)
bones/555/rotation = Quaternion(-0.561458, -0.239918, -0.235462, 0.756149)
bones/556/position = Vector3(-0.59003, 0.474486, 0.715833)
bones/556/rotation = Quaternion(-0.69554, -0.127372, -0.127372, 0.69554)

[node name="BoneAttachment3D" type="BoneAttachment3D" parent="base_human_rig/Skeleton3D" index="5"]
transform = Transform3D(-0.521585, 0.841459, 0.141053, 0.790827, 0.414753, 0.450081, 0.320222, 0.346304, -0.881777, -0.195041, 0.864761, 1.11774)
bone_name = "hand_ik.R"
bone_idx = 524

[node name="SwordPivot" type="Node3D" parent="base_human_rig/Skeleton3D/BoneAttachment3D" index="0"]
transform = Transform3D(1, 2.98023e-08, -3.35276e-08, 0, 1, 1.86265e-08, -3.72529e-09, 1.04308e-07, 1, -0.474144, 0.146674, 0.0788526)
script = ExtResource("3_q4bd8")

[node name="Sword" type="MeshInstance3D" parent="base_human_rig/Skeleton3D/BoneAttachment3D" index="1"]
transform = Transform3D(0.0429436, -0.251296, 0.0510506, 0.255135, 0.0470655, 0.0170608, -0.0257309, 0.0472775, 0.254367, 0.357, 0.00500017, -0.073)
visible = false
mesh = ExtResource("2_lsamu")
skeleton = NodePath("../../../..")

[node name="SwordHolder" type="Node3D" parent="base_human_rig/Skeleton3D/BoneAttachment3D" index="2"]
transform = Transform3D(0.204753, -0.963287, 0.173648, 0.978148, 0.207912, 3.49403e-08, -0.0361035, 0.169854, 0.984808, 0, 0.085, -5.96046e-08)

[node name="ExampleSword" parent="base_human_rig/Skeleton3D/BoneAttachment3D/SwordHolder" index="0" instance=ExtResource("5_f34lk")]

[node name="AnimationPlayer" parent="." index="1"]
playback_default_blend_time = 0.2

[connection signal="animation_finished" from="AnimationPlayer" to="." method="_on_animation_player_animation_finished"]
